{
  "version": 4,
  "terraform_version": "1.1.9",
  "serial": 20,
  "lineage": "5e837acc-abcc-d77f-92bf-e5e91969c960",
  "outputs": {
    "public_ip": {
      "value": "34.216.22.236",
      "type": "string"
    }
  },
  "resources": [
    {
      "module": "module.benchmark_worker",
      "mode": "data",
      "type": "aws_ami",
      "name": "worker_ami",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "architecture": "x86_64",
            "arn": "arn:aws:ec2:us-west-2::image/ami-061abae72be9c5e7d",
            "block_device_mappings": [
              {
                "device_name": "/dev/xvda",
                "ebs": {
                  "delete_on_termination": "true",
                  "encrypted": "false",
                  "iops": "0",
                  "snapshot_id": "snap-01acaf0110cd0eec3",
                  "throughput": "0",
                  "volume_size": "8",
                  "volume_type": "standard"
                },
                "no_device": "",
                "virtual_name": ""
              }
            ],
            "boot_mode": "",
            "creation_date": "2022-04-28T21:38:38.000Z",
            "deprecation_time": "2024-04-28T21:38:38.000Z",
            "description": "Amazon Linux 2 AMI 2.0.20220426.0 x86_64 HVM ebs",
            "ena_support": true,
            "executable_users": null,
            "filter": [
              {
                "name": "name",
                "values": [
                  "amzn2-ami-hvm-*-x86_64-ebs"
                ]
              }
            ],
            "hypervisor": "xen",
            "id": "ami-061abae72be9c5e7d",
            "image_id": "ami-061abae72be9c5e7d",
            "image_location": "amazon/amzn2-ami-hvm-2.0.20220426.0-x86_64-ebs",
            "image_owner_alias": "amazon",
            "image_type": "machine",
            "kernel_id": "",
            "most_recent": true,
            "name": "amzn2-ami-hvm-2.0.20220426.0-x86_64-ebs",
            "name_regex": null,
            "owner_id": "137112412989",
            "owners": [
              "amazon"
            ],
            "platform": "",
            "platform_details": "Linux/UNIX",
            "product_codes": [],
            "public": true,
            "ramdisk_id": "",
            "root_device_name": "/dev/xvda",
            "root_device_type": "ebs",
            "root_snapshot_id": "snap-01acaf0110cd0eec3",
            "sriov_net_support": "simple",
            "state": "available",
            "state_reason": {
              "code": "UNSET",
              "message": "UNSET"
            },
            "tags": {},
            "usage_operation": "RunInstances",
            "virtualization_type": "hvm"
          },
          "sensitive_attributes": []
        }
      ]
    },
    {
      "module": "module.benchmark_worker",
      "mode": "managed",
      "type": "aws_key_pair",
      "name": "worker",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 1,
          "attributes": {
            "arn": "arn:aws:ec2:us-west-2:627286350134:key-pair/jenkins_worker_key",
            "fingerprint": "ec:a1:7f:34:3a:86:74:0a:20:10:4c:e1:ea:d7:64:d4",
            "id": "jenkins_worker_key",
            "key_name": "jenkins_worker_key",
            "key_name_prefix": "",
            "key_pair_id": "key-072ba2ca0891b4629",
            "public_key": "ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAACAQC894O+uBE6Dfyq733c+5Zy0ewcxIdWOqLM1iEQTALTWCKCVbghtRwg/gYK1kuutMo/PyyJtexOtr9jv7ABi8/ujur5xCdOP+Ja8DhwwrxqkLJAqOmwBnBoupfop6tT6iV4iYb386uRwAAyB79ly0MLNiRUuZO5Uxb/7JWoEz158er2S5lhLvxnBu9z+zirYGb3gRuOuUrs1hlrsnAoWDd1tD8+IqtY+2IedE29VtyyjBouh2SZ8EYGvuUIgSW40IwGzk4Jqv5hytMY7lyrPPh9F/909SocQtsiP65I/3kUb9Rs0J0qVrt+WarHaThLkg255iQNo1KUWsMY7MCgxWqkyxq80KjJ7ufEc4p2c5+oWiCQkV/oFBMWFkebq7bALwAP/nA9Z83x3z5MQhytIiqRDa3MByDI6MrFyUqbX75ZC1R8TdlvFmT+wRaJdARvnok9SU63MwFLt1FjO8vCZnPF+ibB4hyaEEXsVUJdLxPwXz9g/PvC4UUzmMUwTTrI7jZoRHyKvpG5czIPgk5lgz17PX+cfJg5OP/pi/8AJ7t7o4KKW9DuXEUWo0XFMkvLJVHD+cO7ecWRVaLa40cXAOYcF+OfNpyvGn+2lyFA4z6vXTnkltbZDizE6O4xvIVqtsk0URf6MhVrRFWmQ6NtN18e0l4oxr6fqizZDnBM8aAZqw== jenkins@elastic.co",
            "tags": null,
            "tags_all": {
              "branch": "benchmarks_2_job",
              "build": "1",
              "environment": "ci",
              "repo": "apm-server"
            }
          },
          "sensitive_attributes": [],
          "private": "eyJzY2hlbWFfdmVyc2lvbiI6IjEifQ=="
        }
      ]
    },
    {
      "module": "module.benchmark_worker",
      "mode": "managed",
      "type": "local_file",
      "name": "envrc",
      "provider": "provider[\"registry.terraform.io/hashicorp/local\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "content": "export ELASTIC_APM_SECRET_TOKEN=\"bWU1qc4e9KiAAML508\"\nexport ELASTIC_APM_SERVICE_NAME=\"apmbench\"\nexport ELASTIC_APM_SERVER_URL=\"https://8f61489d5ea947019915eccd76391c75.apm.us-west2.gcp.elastic-cloud.com:443\"\nexport ELASTIC_APM_VERIFY_SERVER_CERT=\"false\"\n\n# Set the service environment\nexport ELASTIC_APM_ENVIRONMENT=\"bench\"\nexport ELASTIC_APM_BREAKDOWN_METRICS=\"true\"\nexport ELASTIC_APM_CAPTURE_HEADERS=\"true\"\nexport ELASTIC_APM_CAPTURE_BODY=\"all\"\n\n# OTEL credentials\nexport OTEL_RESOURCE_ATTRIBUTES=service.name=apmbench,deployment.environment=bench\nexport OTEL_EXPORTER_OTLP_ENDPOINT=\"8f61489d5ea947019915eccd76391c75.apm.us-west2.gcp.elastic-cloud.com:443\"\nexport OTEL_EXPORTER_OTLP_HEADERS=\"Authorization=Bearer ${ELASTIC_APM_SECRET_TOKEN}\"\n",
            "content_base64": null,
            "directory_permission": "0777",
            "file_permission": "0777",
            "filename": ".envrc",
            "id": "0f78db83ab5c41a598db8492f961d81f0335866c",
            "sensitive_content": null,
            "source": null
          },
          "sensitive_attributes": [
            [
              {
                "type": "get_attr",
                "value": "content"
              }
            ]
          ],
          "private": "bnVsbA==",
          "dependencies": [
            "module.ec_deployment.data.ec_stack.deployment_version",
            "module.ec_deployment.ec_deployment.deployment",
            "module.ec_deployment.ec_deployment.deployment_monitor"
          ]
        }
      ]
    },
    {
      "module": "module.benchmark_worker",
      "mode": "managed",
      "type": "null_resource",
      "name": "apmbench",
      "provider": "provider[\"registry.terraform.io/hashicorp/null\"]",
      "instances": [
        {
          "index_key": 0,
          "schema_version": 0,
          "attributes": {
            "id": "2707829511153782792",
            "triggers": {
              "apmbench": "fd4f6339d88549dba07a55efcf474a3d7d42174b",
              "worker_ip": "34.216.22.236"
            }
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "dependencies": [
            "module.benchmark_worker.aws_key_pair.worker",
            "module.benchmark_worker.data.aws_ami.worker_ami",
            "module.benchmark_worker.module.ec2_instance.aws_instance.this",
            "module.benchmark_worker.module.ec2_instance.aws_spot_instance_request.this",
            "module.benchmark_worker.module.vpc.aws_subnet.public",
            "module.benchmark_worker.module.vpc.aws_vpc.this",
            "module.benchmark_worker.module.vpc.aws_vpc_ipv4_cidr_block_association.this"
          ]
        }
      ]
    },
    {
      "module": "module.benchmark_worker",
      "mode": "managed",
      "type": "null_resource",
      "name": "envrc",
      "provider": "provider[\"registry.terraform.io/hashicorp/null\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "1519784941481686785",
            "triggers": {
              "envrc": "0f78db83ab5c41a598db8492f961d81f0335866c",
              "worker_ip": "34.216.22.236"
            }
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "dependencies": [
            "module.benchmark_worker.aws_key_pair.worker",
            "module.benchmark_worker.data.aws_ami.worker_ami",
            "module.benchmark_worker.local_file.envrc",
            "module.benchmark_worker.module.ec2_instance.aws_instance.this",
            "module.benchmark_worker.module.ec2_instance.aws_spot_instance_request.this",
            "module.benchmark_worker.module.vpc.aws_subnet.public",
            "module.benchmark_worker.module.vpc.aws_vpc.this",
            "module.benchmark_worker.module.vpc.aws_vpc_ipv4_cidr_block_association.this",
            "module.ec_deployment.data.ec_stack.deployment_version",
            "module.ec_deployment.ec_deployment.deployment",
            "module.ec_deployment.ec_deployment.deployment_monitor"
          ]
        }
      ]
    },
    {
      "module": "module.benchmark_worker.module.ec2_instance",
      "mode": "managed",
      "type": "aws_instance",
      "name": "this",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "index_key": 0,
          "schema_version": 1,
          "attributes": {
            "ami": "ami-061abae72be9c5e7d",
            "arn": "arn:aws:ec2:us-west-2:627286350134:instance/i-028e3e0d10f4b5977",
            "associate_public_ip_address": true,
            "availability_zone": "us-west-2a",
            "capacity_reservation_specification": [
              {
                "capacity_reservation_preference": "open",
                "capacity_reservation_target": []
              }
            ],
            "cpu_core_count": 1,
            "cpu_threads_per_core": 2,
            "credit_specification": [
              {
                "cpu_credits": null
              }
            ],
            "disable_api_termination": false,
            "ebs_block_device": [],
            "ebs_optimized": false,
            "enclave_options": [
              {
                "enabled": false
              }
            ],
            "ephemeral_block_device": [],
            "get_password_data": false,
            "hibernation": false,
            "host_id": null,
            "iam_instance_profile": "",
            "id": "i-028e3e0d10f4b5977",
            "instance_initiated_shutdown_behavior": "stop",
            "instance_state": "running",
            "instance_type": "c6i.large",
            "ipv6_address_count": 0,
            "ipv6_addresses": [],
            "key_name": "jenkins_worker_key",
            "launch_template": [],
            "maintenance_options": [
              {
                "auto_recovery": "default"
              }
            ],
            "metadata_options": [
              {
                "http_endpoint": "enabled",
                "http_put_response_hop_limit": 1,
                "http_tokens": "optional",
                "instance_metadata_tags": "disabled"
              }
            ],
            "monitoring": false,
            "network_interface": [],
            "outpost_arn": "",
            "password_data": "",
            "placement_group": "",
            "placement_partition_number": null,
            "primary_network_interface_id": "eni-014a4ce820590a4d4",
            "private_dns": "ip-192-168-44-6.us-west-2.compute.internal",
            "private_ip": "192.168.44.6",
            "public_dns": "",
            "public_ip": "34.216.22.236",
            "root_block_device": [
              {
                "delete_on_termination": true,
                "device_name": "/dev/xvda",
                "encrypted": false,
                "iops": 0,
                "kms_key_id": "",
                "tags": {},
                "throughput": 0,
                "volume_id": "vol-03308eb7af8b47c58",
                "volume_size": 8,
                "volume_type": "standard"
              }
            ],
            "secondary_private_ips": [],
            "security_groups": [],
            "source_dest_check": true,
            "subnet_id": "subnet-0dd9537893845475d",
            "tags": {
              "Name": "jenkins-worker",
              "Owner": "jenkins",
              "managed-by": "terraform"
            },
            "tags_all": {
              "Name": "jenkins-worker",
              "Owner": "jenkins",
              "branch": "benchmarks_2_job",
              "build": "1",
              "environment": "ci",
              "managed-by": "terraform",
              "repo": "apm-server"
            },
            "tenancy": "default",
            "timeouts": {
              "create": null,
              "delete": null,
              "update": null
            },
            "user_data": null,
            "user_data_base64": null,
            "user_data_replace_on_change": false,
            "volume_tags": {
              "Name": ""
            },
            "vpc_security_group_ids": [
              "sg-0ca610f8ddc5c2b98"
            ]
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDAsImRlbGV0ZSI6MTIwMDAwMDAwMDAwMCwidXBkYXRlIjo2MDAwMDAwMDAwMDB9LCJzY2hlbWFfdmVyc2lvbiI6IjEifQ==",
          "dependencies": [
            "module.benchmark_worker.aws_key_pair.worker",
            "module.benchmark_worker.data.aws_ami.worker_ami",
            "module.benchmark_worker.module.vpc.aws_subnet.public",
            "module.benchmark_worker.module.vpc.aws_vpc.this",
            "module.benchmark_worker.module.vpc.aws_vpc_ipv4_cidr_block_association.this"
          ]
        }
      ]
    },
    {
      "module": "module.benchmark_worker.module.vpc",
      "mode": "managed",
      "type": "aws_default_security_group",
      "name": "this",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "index_key": 0,
          "schema_version": 1,
          "attributes": {
            "arn": "arn:aws:ec2:us-west-2:627286350134:security-group/sg-0ca610f8ddc5c2b98",
            "description": "default VPC security group",
            "egress": [
              {
                "cidr_blocks": [
                  "0.0.0.0/0"
                ],
                "description": "",
                "from_port": 0,
                "ipv6_cidr_blocks": [],
                "prefix_list_ids": [],
                "protocol": "-1",
                "security_groups": [],
                "self": false,
                "to_port": 0
              }
            ],
            "id": "sg-0ca610f8ddc5c2b98",
            "ingress": [
              {
                "cidr_blocks": [
                  "0.0.0.0/0"
                ],
                "description": "",
                "from_port": 0,
                "ipv6_cidr_blocks": [],
                "prefix_list_ids": [],
                "protocol": "-1",
                "security_groups": [],
                "self": true,
                "to_port": 0
              }
            ],
            "name": "default",
            "owner_id": "627286350134",
            "revoke_rules_on_delete": false,
            "tags": {
              "Environment": "dev",
              "Name": "jenkins-worker",
              "Owner": "jenkins"
            },
            "tags_all": {
              "Environment": "dev",
              "Name": "jenkins-worker",
              "Owner": "jenkins",
              "branch": "benchmarks_2_job",
              "build": "1",
              "environment": "ci",
              "repo": "apm-server"
            },
            "vpc_id": "vpc-0773e21e854f1e817"
          },
          "sensitive_attributes": [],
          "private": "eyJzY2hlbWFfdmVyc2lvbiI6IjEifQ==",
          "dependencies": [
            "module.benchmark_worker.module.vpc.aws_vpc.this"
          ]
        }
      ]
    },
    {
      "module": "module.benchmark_worker.module.vpc",
      "mode": "managed",
      "type": "aws_internet_gateway",
      "name": "this",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "index_key": 0,
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:ec2:us-west-2:627286350134:internet-gateway/igw-076957f7d32057fd9",
            "id": "igw-076957f7d32057fd9",
            "owner_id": "627286350134",
            "tags": {
              "Environment": "dev",
              "Name": "jenkins-worker",
              "Owner": "jenkins"
            },
            "tags_all": {
              "Environment": "dev",
              "Name": "jenkins-worker",
              "Owner": "jenkins",
              "branch": "benchmarks_2_job",
              "build": "1",
              "environment": "ci",
              "repo": "apm-server"
            },
            "vpc_id": "vpc-0773e21e854f1e817"
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "dependencies": [
            "module.benchmark_worker.module.vpc.aws_vpc.this",
            "module.benchmark_worker.module.vpc.aws_vpc_ipv4_cidr_block_association.this"
          ]
        }
      ]
    },
    {
      "module": "module.benchmark_worker.module.vpc",
      "mode": "managed",
      "type": "aws_route",
      "name": "public_internet_gateway",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "index_key": 0,
          "schema_version": 0,
          "attributes": {
            "carrier_gateway_id": "",
            "core_network_arn": "",
            "destination_cidr_block": "0.0.0.0/0",
            "destination_ipv6_cidr_block": "",
            "destination_prefix_list_id": "",
            "egress_only_gateway_id": "",
            "gateway_id": "igw-076957f7d32057fd9",
            "id": "r-rtb-0d9f87da965197ff21080289494",
            "instance_id": "",
            "instance_owner_id": "",
            "local_gateway_id": "",
            "nat_gateway_id": "",
            "network_interface_id": "",
            "origin": "CreateRoute",
            "route_table_id": "rtb-0d9f87da965197ff2",
            "state": "active",
            "timeouts": {
              "create": "5m",
              "delete": null,
              "update": null
            },
            "transit_gateway_id": "",
            "vpc_endpoint_id": "",
            "vpc_peering_connection_id": ""
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjozMDAwMDAwMDAwMDAsImRlbGV0ZSI6MzAwMDAwMDAwMDAwLCJ1cGRhdGUiOjEyMDAwMDAwMDAwMH19",
          "dependencies": [
            "module.benchmark_worker.module.vpc.aws_internet_gateway.this",
            "module.benchmark_worker.module.vpc.aws_route_table.public",
            "module.benchmark_worker.module.vpc.aws_vpc.this",
            "module.benchmark_worker.module.vpc.aws_vpc_ipv4_cidr_block_association.this"
          ]
        }
      ]
    },
    {
      "module": "module.benchmark_worker.module.vpc",
      "mode": "managed",
      "type": "aws_route_table",
      "name": "public",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "index_key": 0,
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:ec2:us-west-2:627286350134:route-table/rtb-0d9f87da965197ff2",
            "id": "rtb-0d9f87da965197ff2",
            "owner_id": "627286350134",
            "propagating_vgws": [],
            "route": [],
            "tags": {
              "Environment": "dev",
              "Name": "jenkins-worker-public",
              "Owner": "jenkins"
            },
            "tags_all": {
              "Environment": "dev",
              "Name": "jenkins-worker-public",
              "Owner": "jenkins",
              "branch": "benchmarks_2_job",
              "build": "1",
              "environment": "ci",
              "repo": "apm-server"
            },
            "timeouts": null,
            "vpc_id": "vpc-0773e21e854f1e817"
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjozMDAwMDAwMDAwMDAsImRlbGV0ZSI6MzAwMDAwMDAwMDAwLCJ1cGRhdGUiOjEyMDAwMDAwMDAwMH19",
          "dependencies": [
            "module.benchmark_worker.module.vpc.aws_vpc.this",
            "module.benchmark_worker.module.vpc.aws_vpc_ipv4_cidr_block_association.this"
          ]
        }
      ]
    },
    {
      "module": "module.benchmark_worker.module.vpc",
      "mode": "managed",
      "type": "aws_route_table_association",
      "name": "public",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "index_key": 0,
          "schema_version": 0,
          "attributes": {
            "gateway_id": "",
            "id": "rtbassoc-04edc37480ec71f62",
            "route_table_id": "rtb-0d9f87da965197ff2",
            "subnet_id": "subnet-0dd9537893845475d"
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "dependencies": [
            "module.benchmark_worker.module.vpc.aws_route_table.public",
            "module.benchmark_worker.module.vpc.aws_subnet.public",
            "module.benchmark_worker.module.vpc.aws_vpc.this",
            "module.benchmark_worker.module.vpc.aws_vpc_ipv4_cidr_block_association.this"
          ]
        },
        {
          "index_key": 1,
          "schema_version": 0,
          "attributes": {
            "gateway_id": "",
            "id": "rtbassoc-06363aa4879478d74",
            "route_table_id": "rtb-0d9f87da965197ff2",
            "subnet_id": "subnet-065087977707e912d"
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "dependencies": [
            "module.benchmark_worker.module.vpc.aws_route_table.public",
            "module.benchmark_worker.module.vpc.aws_subnet.public",
            "module.benchmark_worker.module.vpc.aws_vpc.this",
            "module.benchmark_worker.module.vpc.aws_vpc_ipv4_cidr_block_association.this"
          ]
        },
        {
          "index_key": 2,
          "schema_version": 0,
          "attributes": {
            "gateway_id": "",
            "id": "rtbassoc-0aa7acecfa1d8099d",
            "route_table_id": "rtb-0d9f87da965197ff2",
            "subnet_id": "subnet-0c0c87497ff82984b"
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "dependencies": [
            "module.benchmark_worker.module.vpc.aws_route_table.public",
            "module.benchmark_worker.module.vpc.aws_subnet.public",
            "module.benchmark_worker.module.vpc.aws_vpc.this",
            "module.benchmark_worker.module.vpc.aws_vpc_ipv4_cidr_block_association.this"
          ]
        }
      ]
    },
    {
      "module": "module.benchmark_worker.module.vpc",
      "mode": "managed",
      "type": "aws_subnet",
      "name": "public",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "index_key": 0,
          "schema_version": 1,
          "attributes": {
            "arn": "arn:aws:ec2:us-west-2:627286350134:subnet/subnet-0dd9537893845475d",
            "assign_ipv6_address_on_creation": false,
            "availability_zone": "us-west-2a",
            "availability_zone_id": "usw2-az1",
            "cidr_block": "192.168.44.0/26",
            "customer_owned_ipv4_pool": "",
            "enable_dns64": false,
            "enable_resource_name_dns_a_record_on_launch": false,
            "enable_resource_name_dns_aaaa_record_on_launch": false,
            "id": "subnet-0dd9537893845475d",
            "ipv6_cidr_block": "",
            "ipv6_cidr_block_association_id": "",
            "ipv6_native": false,
            "map_customer_owned_ip_on_launch": false,
            "map_public_ip_on_launch": true,
            "outpost_arn": "",
            "owner_id": "627286350134",
            "private_dns_hostname_type_on_launch": "ip-name",
            "tags": {
              "Environment": "dev",
              "Name": "jenkins-worker-public-us-west-2a",
              "Owner": "jenkins"
            },
            "tags_all": {
              "Environment": "dev",
              "Name": "jenkins-worker-public-us-west-2a",
              "Owner": "jenkins",
              "branch": "benchmarks_2_job",
              "build": "1",
              "environment": "ci",
              "repo": "apm-server"
            },
            "timeouts": null,
            "vpc_id": "vpc-0773e21e854f1e817"
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDAsImRlbGV0ZSI6MTIwMDAwMDAwMDAwMH0sInNjaGVtYV92ZXJzaW9uIjoiMSJ9",
          "dependencies": [
            "module.benchmark_worker.module.vpc.aws_vpc.this",
            "module.benchmark_worker.module.vpc.aws_vpc_ipv4_cidr_block_association.this"
          ]
        },
        {
          "index_key": 1,
          "schema_version": 1,
          "attributes": {
            "arn": "arn:aws:ec2:us-west-2:627286350134:subnet/subnet-065087977707e912d",
            "assign_ipv6_address_on_creation": false,
            "availability_zone": "us-west-2b",
            "availability_zone_id": "usw2-az2",
            "cidr_block": "192.168.44.64/26",
            "customer_owned_ipv4_pool": "",
            "enable_dns64": false,
            "enable_resource_name_dns_a_record_on_launch": false,
            "enable_resource_name_dns_aaaa_record_on_launch": false,
            "id": "subnet-065087977707e912d",
            "ipv6_cidr_block": "",
            "ipv6_cidr_block_association_id": "",
            "ipv6_native": false,
            "map_customer_owned_ip_on_launch": false,
            "map_public_ip_on_launch": true,
            "outpost_arn": "",
            "owner_id": "627286350134",
            "private_dns_hostname_type_on_launch": "ip-name",
            "tags": {
              "Environment": "dev",
              "Name": "jenkins-worker-public-us-west-2b",
              "Owner": "jenkins"
            },
            "tags_all": {
              "Environment": "dev",
              "Name": "jenkins-worker-public-us-west-2b",
              "Owner": "jenkins",
              "branch": "benchmarks_2_job",
              "build": "1",
              "environment": "ci",
              "repo": "apm-server"
            },
            "timeouts": null,
            "vpc_id": "vpc-0773e21e854f1e817"
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDAsImRlbGV0ZSI6MTIwMDAwMDAwMDAwMH0sInNjaGVtYV92ZXJzaW9uIjoiMSJ9",
          "dependencies": [
            "module.benchmark_worker.module.vpc.aws_vpc.this",
            "module.benchmark_worker.module.vpc.aws_vpc_ipv4_cidr_block_association.this"
          ]
        },
        {
          "index_key": 2,
          "schema_version": 1,
          "attributes": {
            "arn": "arn:aws:ec2:us-west-2:627286350134:subnet/subnet-0c0c87497ff82984b",
            "assign_ipv6_address_on_creation": false,
            "availability_zone": "us-west-2c",
            "availability_zone_id": "usw2-az3",
            "cidr_block": "192.168.44.128/26",
            "customer_owned_ipv4_pool": "",
            "enable_dns64": false,
            "enable_resource_name_dns_a_record_on_launch": false,
            "enable_resource_name_dns_aaaa_record_on_launch": false,
            "id": "subnet-0c0c87497ff82984b",
            "ipv6_cidr_block": "",
            "ipv6_cidr_block_association_id": "",
            "ipv6_native": false,
            "map_customer_owned_ip_on_launch": false,
            "map_public_ip_on_launch": true,
            "outpost_arn": "",
            "owner_id": "627286350134",
            "private_dns_hostname_type_on_launch": "ip-name",
            "tags": {
              "Environment": "dev",
              "Name": "jenkins-worker-public-us-west-2c",
              "Owner": "jenkins"
            },
            "tags_all": {
              "Environment": "dev",
              "Name": "jenkins-worker-public-us-west-2c",
              "Owner": "jenkins",
              "branch": "benchmarks_2_job",
              "build": "1",
              "environment": "ci",
              "repo": "apm-server"
            },
            "timeouts": null,
            "vpc_id": "vpc-0773e21e854f1e817"
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDAsImRlbGV0ZSI6MTIwMDAwMDAwMDAwMH0sInNjaGVtYV92ZXJzaW9uIjoiMSJ9",
          "dependencies": [
            "module.benchmark_worker.module.vpc.aws_vpc.this",
            "module.benchmark_worker.module.vpc.aws_vpc_ipv4_cidr_block_association.this"
          ]
        }
      ]
    },
    {
      "module": "module.benchmark_worker.module.vpc",
      "mode": "managed",
      "type": "aws_vpc",
      "name": "this",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "index_key": 0,
          "schema_version": 1,
          "attributes": {
            "arn": "arn:aws:ec2:us-west-2:627286350134:vpc/vpc-0773e21e854f1e817",
            "assign_generated_ipv6_cidr_block": false,
            "cidr_block": "192.168.44.0/24",
            "default_network_acl_id": "acl-04275a333731f471b",
            "default_route_table_id": "rtb-02fd3116bc030c488",
            "default_security_group_id": "sg-0ca610f8ddc5c2b98",
            "dhcp_options_id": "dopt-d51a9ead",
            "enable_classiclink": false,
            "enable_classiclink_dns_support": false,
            "enable_dns_hostnames": false,
            "enable_dns_support": true,
            "id": "vpc-0773e21e854f1e817",
            "instance_tenancy": "default",
            "ipv4_ipam_pool_id": null,
            "ipv4_netmask_length": null,
            "ipv6_association_id": "",
            "ipv6_cidr_block": "",
            "ipv6_cidr_block_network_border_group": "",
            "ipv6_ipam_pool_id": "",
            "ipv6_netmask_length": 0,
            "main_route_table_id": "rtb-02fd3116bc030c488",
            "owner_id": "627286350134",
            "tags": {
              "Environment": "dev",
              "Name": "vpc-jenkins-worker",
              "Owner": "jenkins"
            },
            "tags_all": {
              "Environment": "dev",
              "Name": "vpc-jenkins-worker",
              "Owner": "jenkins",
              "branch": "benchmarks_2_job",
              "build": "1",
              "environment": "ci",
              "repo": "apm-server"
            }
          },
          "sensitive_attributes": [],
          "private": "eyJzY2hlbWFfdmVyc2lvbiI6IjEifQ=="
        }
      ]
    },
    {
      "module": "module.ec_deployment",
      "mode": "data",
      "type": "ec_stack",
      "name": "deployment_version",
      "provider": "provider[\"registry.terraform.io/elastic/ec\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "accessible": true,
            "allowlisted": false,
            "apm": [
              {
                "capacity_constraints_max": 8192,
                "capacity_constraints_min": 512,
                "compatible_node_types": [],
                "default_plugins": [],
                "denylist": [],
                "docker_image": "docker.elastic.co/cloud-release/elastic-agent-cloud:8.3.0-SNAPSHOT",
                "plugins": []
              }
            ],
            "elasticsearch": [
              {
                "capacity_constraints_max": 0,
                "capacity_constraints_min": 0,
                "compatible_node_types": [],
                "default_plugins": [],
                "denylist": [
                  "node.name",
                  "cluster.name",
                  "processors",
                  "node.roles",
                  "node.master",
                  "node.data",
                  "node.ingest",
                  "path.conf",
                  "path.data",
                  "path.logs",
                  "path.plugins",
                  "path.home",
                  "network.publish_host",
                  "network.bind_host",
                  "http.port",
                  "http.publish_port",
                  "transport.tcp.port",
                  "discovery.type",
                  "discovery.zen.masterservice.type",
                  "discovery.zen.ping.multicast.enabled",
                  "discovery.zen.ping.unicast.hosts",
                  "discovery.zen.minimum_master_nodes",
                  "bootstrap.mlockall",
                  "node.region",
                  "node.availability_zone",
                  "node.logical_availability_zone",
                  "node.attr.region",
                  "node.attr.availability_zone",
                  "node.attr.logical_availability_zone",
                  "cluster.routing.allocation.awareness.attributes",
                  "node.max_local_storage_nodes",
                  "gateway.type",
                  "gateway.local.initial_meta",
                  "found.rest_filter.required",
                  "found.election.confirmed.enabled",
                  "found.zookeeper.connection_string",
                  "found.zookeeper.session_timeout",
                  "found.zookeeper.acls",
                  "found.zookeeper.auths",
                  "cloud.aws.region",
                  "cloud.aws.access_key",
                  "cloud.aws.secret_key",
                  "shield.transport.filter_enabled",
                  "shield.authc.system_key.file",
                  "xpack.ccr.enabled",
                  "xpack.ilm.enabled",
                  "xpack.security.system_key.required",
                  "xpack.security.authc.reserved_realm.enabled",
                  "xpack.security.authc.realms.found.type",
                  "xpack.security.authc.realms.found.files.users",
                  "xpack.security.authc.realms.found.files.users_roles",
                  "xpack.security.authc.realms.found.order",
                  "xpack.security.authc.realms.native.type",
                  "xpack.security.authc.realms.native.order",
                  "xpack.security.enabled",
                  "shield.hide_settings"
                ],
                "docker_image": "docker.elastic.co/cloud-release/elasticsearch-cloud-ess:8.3.0-SNAPSHOT",
                "plugins": [
                  "analysis-icu",
                  "analysis-kuromoji",
                  "analysis-nori",
                  "analysis-phonetic",
                  "analysis-smartcn",
                  "analysis-stempel",
                  "analysis-ukrainian",
                  "ingest-attachment",
                  "mapper-annotated-text",
                  "mapper-murmur3",
                  "mapper-size"
                ]
              }
            ],
            "enterprise_search": [
              {
                "capacity_constraints_max": 0,
                "capacity_constraints_min": 0,
                "compatible_node_types": [],
                "default_plugins": [],
                "denylist": [],
                "docker_image": "docker.elastic.co/cloud-release/enterprise-search-cloud:8.3.0-SNAPSHOT",
                "plugins": []
              }
            ],
            "id": "0",
            "kibana": [
              {
                "capacity_constraints_max": 8192,
                "capacity_constraints_min": 1024,
                "compatible_node_types": [],
                "default_plugins": [],
                "denylist": [
                  "node.name",
                  "cluster.name",
                  "processors",
                  "node.master",
                  "node.data",
                  "path.conf",
                  "path.data",
                  "path.logs",
                  "path.plugins",
                  "path.home",
                  "network.publish_host",
                  "network.bind_host",
                  "http.port",
                  "http.publish_port",
                  "transport.tcp.port",
                  "discovery.type",
                  "discovery.zen.masterservice.type",
                  "discovery.zen.ping.multicast.enabled",
                  "discovery.zen.ping.unicast.hosts",
                  "discovery.zen.minimum_master_nodes",
                  "bootstrap.mlockall",
                  "node.region",
                  "node.availability_zone",
                  "node.logical_availability_zone",
                  "node.attr.region",
                  "node.attr.availability_zone",
                  "node.attr.logical_availability_zone",
                  "cluster.routing.allocation.awareness.attributes",
                  "node.max_local_storage_nodes",
                  "gateway.type",
                  "gateway.local.initial_meta",
                  "found.rest_filter.required",
                  "found.election.confirmed.enabled",
                  "found.zookeeper.connection_string",
                  "found.zookeeper.session_timeout",
                  "found.zookeeper.acls",
                  "found.zookeeper.auths",
                  "cloud.aws.region",
                  "cloud.aws.access_key",
                  "cloud.aws.secret_key",
                  "shield.transport.filter_enabled",
                  "shield.authc.system_key.file",
                  "xpack.ccr.ui.enabled",
                  "xpack.ilm.filteredNodeAttributes",
                  "xpack.ilm.ui.enabled",
                  "xpack.remote_clusters.ui.enabled",
                  "xpack.security.system_key.required",
                  "xpack.security.authc.reserved_realm.enabled",
                  "xpack.security.authc.realms.found.type",
                  "xpack.security.authc.realms.found.files.users",
                  "xpack.security.authc.realms.found.files.users_roles",
                  "xpack.security.authc.realms.found.order",
                  "xpack.security.authc.realms.native.type",
                  "xpack.security.authc.realms.native.order",
                  "xpack.security.enabled",
                  "shield.hide_settings"
                ],
                "docker_image": "docker.elastic.co/cloud-release/kibana-cloud:8.3.0-SNAPSHOT",
                "plugins": []
              }
            ],
            "lock": null,
            "min_upgradable_from": "7.17.0-SNAPSHOT",
            "region": "gcp-us-west2",
            "timeouts": null,
            "upgradable_to": null,
            "version": "8.3.0-SNAPSHOT",
            "version_regex": "latest"
          },
          "sensitive_attributes": []
        }
      ]
    },
    {
      "module": "module.ec_deployment",
      "mode": "managed",
      "type": "ec_deployment",
      "name": "deployment",
      "provider": "provider[\"registry.terraform.io/elastic/ec\"]",
      "instances": [
        {
          "schema_version": 1,
          "attributes": {
            "alias": "jenkins-bench-latest",
            "apm": [
              {
                "config": [],
                "elasticsearch_cluster_ref_id": "main-elasticsearch",
                "http_endpoint": "http://8f61489d5ea947019915eccd76391c75.apm.us-west2.gcp.elastic-cloud.com:80",
                "https_endpoint": "https://8f61489d5ea947019915eccd76391c75.apm.us-west2.gcp.elastic-cloud.com:443",
                "ref_id": "main-apm",
                "region": "gcp-us-west2",
                "resource_id": "8f61489d5ea947019915eccd76391c75",
                "topology": [
                  {
                    "instance_configuration_id": "gcp.apm.1",
                    "size": "1g",
                    "size_resource": "memory",
                    "zone_count": 1
                  }
                ]
              }
            ],
            "apm_secret_token": "bWU1qc4e9KiAAML508",
            "deployment_template_id": "gcp-compute-optimized-v2",
            "elasticsearch": [
              {
                "autoscale": "false",
                "cloud_id": "jenkins-bench-latest:dXMtd2VzdDIuZ2NwLmVsYXN0aWMtY2xvdWQuY29tJDQ5NDI2ZTIzYWViYTQ1YTM5ZThmMTNhMGE4YjE0Njg3JGQ0ODU3MTg1YjJiOTQ4ZjE5ZDQ3YjhmZTQ5ZTkzNTJj",
                "config": [],
                "extension": [],
                "http_endpoint": "http://49426e23aeba45a39e8f13a0a8b14687.us-west2.gcp.elastic-cloud.com:9200",
                "https_endpoint": "https://49426e23aeba45a39e8f13a0a8b14687.us-west2.gcp.elastic-cloud.com:9243",
                "ref_id": "main-elasticsearch",
                "region": "gcp-us-west2",
                "remote_cluster": [],
                "resource_id": "49426e23aeba45a39e8f13a0a8b14687",
                "snapshot_source": [],
                "topology": [
                  {
                    "autoscaling": [
                      {
                        "max_size": "128g",
                        "max_size_resource": "memory",
                        "min_size": "",
                        "min_size_resource": "",
                        "policy_override_json": ""
                      }
                    ],
                    "config": [],
                    "id": "hot_content",
                    "instance_configuration_id": "gcp.data.highcpu.1",
                    "node_roles": [
                      "data_content",
                      "data_hot",
                      "ingest",
                      "master",
                      "remote_cluster_client",
                      "transform"
                    ],
                    "node_type_data": "",
                    "node_type_ingest": "",
                    "node_type_master": "",
                    "node_type_ml": "",
                    "size": "8g",
                    "size_resource": "memory",
                    "zone_count": 2
                  }
                ],
                "trust_account": [
                  {
                    "account_id": "2870499056",
                    "trust_all": true,
                    "trust_allowlist": []
                  }
                ],
                "trust_external": []
              }
            ],
            "elasticsearch_password": "bwvLODBrrbop73XrkC0P0op9",
            "elasticsearch_username": "elastic",
            "enterprise_search": [],
            "id": "1e3ebc0b5c2cdd230600275d37371813",
            "integrations_server": [],
            "kibana": [
              {
                "config": [],
                "elasticsearch_cluster_ref_id": "main-elasticsearch",
                "http_endpoint": "http://d4857185b2b948f19d47b8fe49e9352c.us-west2.gcp.elastic-cloud.com:9200",
                "https_endpoint": "https://d4857185b2b948f19d47b8fe49e9352c.us-west2.gcp.elastic-cloud.com:9243",
                "ref_id": "main-kibana",
                "region": "gcp-us-west2",
                "resource_id": "d4857185b2b948f19d47b8fe49e9352c",
                "topology": [
                  {
                    "instance_configuration_id": "gcp.kibana.1",
                    "size": "1g",
                    "size_resource": "memory",
                    "zone_count": 1
                  }
                ]
              }
            ],
            "name": "jenkins-bench-latest",
            "observability": [],
            "region": "gcp-us-west2",
            "request_id": null,
            "tags": null,
            "timeouts": null,
            "traffic_filter": null,
            "version": "8.3.0-SNAPSHOT"
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoyNDAwMDAwMDAwMDAwLCJkZWZhdWx0IjoyNDAwMDAwMDAwMDAwLCJkZWxldGUiOjM2MDAwMDAwMDAwMDAsInJlYWQiOjI0MDAwMDAwMDAwMDAsInVwZGF0ZSI6MzYwMDAwMDAwMDAwMH0sInNjaGVtYV92ZXJzaW9uIjoiMSJ9",
          "dependencies": [
            "module.ec_deployment.data.ec_stack.deployment_version",
            "module.ec_deployment.ec_deployment.deployment_monitor"
          ]
        }
      ]
    },
    {
      "module": "module.ec_deployment",
      "mode": "managed",
      "type": "local_file",
      "name": "enable_expvar",
      "provider": "provider[\"registry.terraform.io/hashicorp/local\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "content": "#!/bin/bash\n\nKIBANA_ENDPOINT=https://d4857185b2b948f19d47b8fe49e9352c.us-west2.gcp.elastic-cloud.com:9243/api/fleet/package_policies/elastic-cloud-apm\nKIBANA_AUTH=elastic:bwvLODBrrbop73XrkC0P0op9\n\n# Check if the policy has expvar disabled:\nPOLICY=$(curl -sk -u ${KIBANA_AUTH} ${KIBANA_ENDPOINT})\n\necho ${POLICY} | grep '\"expvar_enabled\":{\"type\":\"bool\",\"value\":true}' \u003e /dev/null 2\u003e\u00261\nif [[ $? -eq 0 ]]; then\n    echo \"expvar already enabled\"\n    exit 0\nfi\n\n# Download and modify the APM policy\necho ${POLICY} |\\\n    jq 'del(.item.id)' | jq 'del(.item.elasticsearch)'| jq 'del(.item.inputs[].compiled_input)' | jq 'del(.item.revision)' |\\\n    jq 'del(.item.created_at)' | jq 'del(.item.created_by)' | jq 'del(.item.updated_at)' | jq 'del(.item.updated_by)' |\\\n    jq '.item | select(.inputs[].policy_template == \"apmserver\") .inputs[].vars.expvar_enabled = {type: \"bool\", value: true}' \u003e policy.json\n\n# Update the policy\ncurl -s -H 'content-type: application/json' -H 'kbn-xsrf: true' -X PUT -k -d@policy.json -u ${KIBANA_AUTH} ${KIBANA_ENDPOINT}\n\nrm -f policy.json\n",
            "content_base64": null,
            "directory_permission": "0777",
            "file_permission": "0777",
            "filename": "../infra/terraform/modules/ec_deployment/scripts/enable_expvar.sh",
            "id": "14139a09f250c3c3f6c1bb4934cd1658ae5d0717",
            "sensitive_content": null,
            "source": null
          },
          "sensitive_attributes": [
            [
              {
                "type": "get_attr",
                "value": "content"
              }
            ]
          ],
          "private": "bnVsbA==",
          "dependencies": [
            "module.ec_deployment.data.ec_stack.deployment_version",
            "module.ec_deployment.ec_deployment.deployment",
            "module.ec_deployment.ec_deployment.deployment_monitor"
          ]
        }
      ]
    },
    {
      "module": "module.ec_deployment",
      "mode": "managed",
      "type": "null_resource",
      "name": "enable_expvar",
      "provider": "provider[\"registry.terraform.io/hashicorp/null\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "5359126131516254175",
            "triggers": {
              "shell_hash": "14139a09f250c3c3f6c1bb4934cd1658ae5d0717"
            }
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "dependencies": [
            "module.ec_deployment.data.ec_stack.deployment_version",
            "module.ec_deployment.ec_deployment.deployment",
            "module.ec_deployment.ec_deployment.deployment_monitor",
            "module.ec_deployment.local_file.enable_expvar"
          ]
        }
      ]
    }
  ]
}
